CREATE COMPUTE MODULE TCPIPServer_Compute
    CREATE FUNCTION Main() RETURNS BOOLEAN
    BEGIN
        CALL CopyEntireMessage();
        RETURN TRUE;
    END;

    CREATE PROCEDURE CopyMessageHeaders() BEGIN
        DECLARE I INTEGER 1;
        DECLARE J INTEGER;
        SET J = CARDINALITY(InputRoot.*[]);
        WHILE I < J DO
            SET OutputRoot.*[I] = InputRoot.*[I];
            SET I = I + 1;
        END WHILE;
    END;

    CREATE PROCEDURE CopyEntireMessage() BEGIN
        DECLARE UTR CHARACTER;
        DECLARE RECIVER_IFSC CHARACTER;
        DECLARE FLAG CHARACTER;

        SET UTR = InputRoot.DFDL.Serverdfdl.body.Trans_ref_no;
        SET RECIVER_IFSC = InputRoot.DFDL.Serverdfdl.body.IFSC;
        SET FLAG = InputRoot.DFDL.Serverdfdl.body.Flag;

        -- Setting values in JSON for output testing
        SET OutputRoot.JSON.Data.UTR = UTR;
        SET OutputRoot.JSON.Data.RECIVER_IFSC = RECIVER_IFSC;
        SET OutputRoot.JSON.Data.FLAG = FLAG;
    END;
END MODULE;
DECLARE outputStr CHARACTER;
SET outputStr = UTR || RECIVER_IFSC || FLAG;
SET OutputRoot.BLOB.BLOB = CAST(outputStr AS BLOB CCSID 1208);