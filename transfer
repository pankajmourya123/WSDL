<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
   <soapenv:Header/>
   <soapenv:Body>
      <RequestPayload>
         <AppHdr xmlns:xsi="urn:iso:std:iso:20022:tech:xsd:Header"
                 xmlns="urn:iso:std:iso:20022:tech:xsd:head.001.001.02">
            <!-- ... your AppHdr content ... -->
         </AppHdr>
         <Document xmlns="urn:iso:std:iso:20022:tech:xsd:admi.004.001.02">
            <!-- ... your Document content ... -->
         </Document>
      </RequestPayload>
   </soapenv:Body>
</soapenv:Envelope>
CREATE COMPUTE MODULE ExtractSoapBody
    CREATE FUNCTION Main() RETURNS BOOLEAN
    BEGIN
        -- Declare a reference to the incoming SOAP message
        DECLARE inRef REFERENCE TO InputRoot;
        
        -- Declare a reference to the SOAP Body
        DECLARE bodyRef REFERENCE TO inRef.SOAP:Envelope.SOAP:Body;
        
        -- Create a new OutputRoot with only the SOAP Body content
        CREATE LASTCHILD OF OutputRoot DOMAIN('XMLNSC') NAME 'RequestPayload';
        
        -- Copy the body content into OutputRoot
        DECLARE childRef REFERENCE TO bodyRef.*[1];  -- Get first child inside Body
        WHILE LASTMOVE(childRef) DO
            -- Copy each child from the SOAP Body to OutputRoot.RequestPayload
            CREATE LASTCHILD OF OutputRoot.RequestPayload FROM childRef;
            MOVE childRef NEXTSIBLING;
        END WHILE;
        
        RETURN TRUE;
    END;
END MODULE;
